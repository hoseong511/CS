# 가상화(Virtualization)
### **가상화?**
- 하드웨어에 종속된 리소스를 사용해 유용한 IT 서비스를 만들 수 있는 기술(VT-x, VT-d)
- 단일한 물리 하드웨어 시스템에서 여러 시뮬레이션 환경이나 전용 리소스를 생성할 수 있는 기술
- 하이퍼바이저[^Hypervisor]라 불리는 소프트웨어(ex. Virtual Box)가 하드웨어에 직접 연결되며 1개의 시스템을 가상머신(Virtual Machine;VM)이라는 별도의 고유하고 안전한 환경으로 분할할 수 있다.
- 하이퍼바이저가 설치된 물리 하드웨어를 **호스트**라고 하며 그 리소스를 사용하는 여러 VM을 **게스트**라고 한다.([SSH](https://hoseong511.github.io/CS/OS/ssh) 포트포워딩 참조)
- 게스트는 CPU, 메모리, 스토리지 등의 컴퓨팅 리소스를 처리하는 리소스 풀이고 컴퓨터 리소스를 쉽게 재배치할 수 있음.

### **가상화의 역사**
- 해당 기술은 1960년대부터 시작되었으나 널리 도입된 것은 200년대 초.
- 하이퍼바이저와 같은 가상화 지원 기술이 수십 년 전에 개발되어 일괄 처리를 수행하는 컴퓨터에 여러 명의 사용자가 동시에 액세스할 수 있게 되었음.
- 몇십 년간 단일 머신에서 여러 사용자가 작업할 수 있게 하는 솔루션은 점차 인기를 얻은 데 비해, 가상화는 비인기 기술. 즉, 시간 공유 솔루션(멀티스레드?)으로 인해 운영 체제 내에서 격리된 사용자들은 UNIX 등의 운영 체제로 옮겨가 결국 Linux가 주류로 떠오르고 가상화는 틈새 기술로 남음.
- 1990년대, 대부분의 기업이 물리 서버와 단일 벤더 IT 스택을 사용하고 있었기 때문에 다른 벤더의 하드웨어에서 레거시 애플리케이션을 실행할 수 없었음.
- 다양한 벤더가 제공하는 저렴한 상용 서버, 운영 체제, 애플리케이션으로 IT 환경을 업데이트하면서 기업은 사용률이 낮은 물리 하드웨어에 종속되었으며 밴더별 태스크 1개만 실행했다.
- 가상화는 이러한 문제를 해결. 가상화를 통해 기업은 서버를 파티셔닝하고 여러 유형 및 버전의 운영 체제에서 레거시 애플리케이션을 실행할 수 있게 되었음.

### **가상화의 작동 원리**
- 하이퍼바이저라는 소프트웨어가 물리 리소스를 필요로 하는 가상 환경으로부터 물리 리소스를 분리시킴.
- 하이퍼바이저는 노트북 등의 운영 체제에 배포하거나 서버 등의 하드웨어에 직접 설치할 수 있으며 대부분의 기업들은 이러한 방식으로 가상화함.
- 리소스는 필요에 따라 물리 환경에서 여러 가상 환경으로 파티셔닝됨
- 가상 머신은 단일 데이터 파일처럼 작동함.
- 가상 환경이 실행 중이고 사용자 또는 프로그램이 물리 환경에서 추가 리소스를 요구하는 명령을 내리면 하이퍼바이저가 그 요청을 물리 시스템에 전달하고 변경 사항을 캐시함.
![image](https://www.redhat.com/cms/managed-files/how-virtualization-works-400x217.png)

### **Reference**
- [https://www.redhat.com/ko/topics/virtualization/what-is-virtualization](https://www.redhat.com/ko/topics/virtualization/what-is-virtualization)

[^Hypervisor]: 가상 머신을 생성하고 구동하는 소프트웨어. 가상 머신 모니터라고도 불리는 하이퍼바이저는 하이퍼바이저 운영 체제와 가상 머신의 리소스를 분리해 VM의 생성과 관리를 지원.
